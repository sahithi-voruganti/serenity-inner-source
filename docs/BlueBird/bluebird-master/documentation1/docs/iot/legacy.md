## IoT Platform 3.X

### Features Test
See the document "CRSL IoT Platform 3.X Features" for a comprehensive list of platform features.  (*To Do = (1) Upload document and link (2) Add IoT device lifecycle image*)
#### Plan
#### Provision
- Device Provisioning
#### Configure
- Software Updates
- Cloud to Device Methods and Messages
- Device to Cloud File Transfer
#### Monitor
#### Retire

### Release Notes
| ID | Description | Date |
| -- | ----------- | ---- |  
| Bug [7935](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7935) | Platform release notes are publicly available and insecure | 3/27/2020 | 
| Bug [8379](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=8379) | Platform storage container renamed? | 3/27/2020 | 
| Bug [8379](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=8379) | Platform storage container renamed? | 3/27/2020 | 
| Bug [8379](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=8379) | Platform storage container renamed? | 3/27/2020 | 
| User Story [7984](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7984) | Update IoT platform development tag values | 2/27/2020 | 
| User Story [3518](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=3518) | Automate Certificates in Azure - PoC | 2/27/2020 | 
| Bug [7566](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7566) | Upgrade stopped due to IoT hub configuration conflict | 2/27/2020 | 
| User Story [6322](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=6322) | Platform alerts and notifications | 2/27/2020 | 
| Bug [7950](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7950) | Data replication issue on live data window under device details page. | 2/27/2020 | 
| User Story [8236](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=8236) | PSD EU/CT/PROD deployment support | 2/27/2020 | 
| User Story [7571](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7571) | Azure subscription cleanup (January 2020) | 2/13/2020 | 
| User Story [7569](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7569) | Configure automated release notes for Serenity | 2/13/2020 | 
| Bug [7565](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7565) | Upgrade stopped by post failure to product dashboard | 2/13/2020 | 
| Bug [7564](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7564) | Device to cloud upload does not appear on UI | 2/13/2020 | 
| Bug [7469](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7469) | Location issue for app insight eastus   | 2/13/2020 | 
| Bug [7379](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7379) | The tag value for recharge department is not correct in PSD environments | 2/13/2020 | 
| User Story [6456](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=6456) | Bluebird Documentation: External Website | 2/13/2020 | 
| Bug [7568](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7568) | Pipeline errors for stage Add AAD Reply URL  | 2/13/2020 | 
| Bug [7661](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7661) | Bug created for Orca demo | 1/30/2020 | 
| Bug [7661](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7661) | Bug created for Orca demo | 1/30/2020 | 
| Bug [7371](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7371) | Software package upload allows list of serial number with no value after last comma | 1/30/2020 | 
| Bug [7370](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7370) | Group enrollment fails when group name contains a special character | 1/30/2020 | 
| Bug [7369](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7369) | Device detail chart does not display when device ID and serial number do not match | 1/30/2020 | 
| Bug [7368](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7368) | Send Message and Send Command should not be available for Visitor role | 1/30/2020 | 
| Bug [7367](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7367) | Send Command fails to send when Device ID does not match Serial Number | 1/30/2020 | 
| Bug [7366](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7366) | Send Message fails to send when Device ID does not match Serial Number | 1/30/2020 | 
| Bug [6534](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=6534) | Azure resources missing tags and tag values | 1/30/2020 | 
| User Story [5054](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=5054) | View software package history | 1/30/2020 | 
| Bug [7226](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7226) | Device command dropdown load is slow | 1/30/2020 | 
| Bug [7067](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7067) | PSD DEV and CT deployment failures | 1/30/2020 | 
| Bug [7067](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7067) | Platform pipeline failure due to invalid client secret value. A change was made to the platform deployment pipeline to ensure client secret values containing special characters does not cause an upgrade to fail. #PSD | 01/17/2020 |
| Bug [7172](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7172) | A software upload specifying a comma-separated list of device serial numbers is failing.  This issue affects the UI only and not the published API.  A previously fixed bug was reintroduced due to developer error. | 01/17/2020 |
| Bug [7071](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7071) | The PSD STG2 environment failed to upgrade due to a resource naming conflict.  The naming convention for a platform Azure resource resulted in a duplicate resource name within a single Azure subscription.  This is not allowed.  The naming convention was fixed for the offending resource. #PSD | 01/17/2020 |
| Bug [7225](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7225) | The PSD EU environment failed to upgrade due to the name of the environment.  The environment name was recently modified to include parenthesis in the name '(' and ')' which was not properly evaluated by the deployment pipeline. #PSD | 01/17/2020 |
| Bug [7127](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=7127) | Reference application logging to Application Insights is not working properly.  A problem with the deployment of an application setting caused the recently introduced logging in User Story 5013 to not work as expected. | 01/17/2020 |
| User Story [5054](https://dev.azure.com/3M-Bluebird/web/wi.aspx?pcguid=7fc7fec0-0aff-40d8-b9ca-4a64b547d42b&id=5054) | Audit logging for software management features has been improved to ensure "who did what and when" is logged whenever any software management activity is completed. #PSD | 01/17/2020 |
| User Story [6660](https://dev.azure.com/3M-Bluebird/AzurePlatform/_workitems/edit/6660) | Cloud to Device Messages. A platform administrator can send messages to IoT devices. The device must be programmed to listen for the message and respond to it. #PSD | 01/06/2020 |
| Bug [6841](https://dev.azure.com/3M-Bluebird/AzurePlatform/_workitems/edit/6814) | Files transfered from a device to the cloud do not appear in the file list. A bug in the deployment pipeline prevented the device to cloud file transfer feature developed in November from working as expected. The issue only affected the PSD development environment. #PSD | 01/06/2020 |

#### January 28th, 2020
The January 28th release includes a handful of bug fixes requested by PSD and a couple feature improvements.  The bugs addressed were mainly specific to PSD environments and do not affect other customer environments.  Software management audit logging has been improved and Azure Application Insights configuration changed to capture additional session information.

#### January 9th, 2020
The January 9th release includes a few improved features and bug fixes requested by PSD. For example, the device to cloud and cloud to device features enable the Fusion device remote support procedures. The platform is now compliant with 3M Cloud CoE tagging policies; all possible Azure resources are properly tagged. Lastly, platform monitoring and troubleshooting capabilities are significantly improved by a redesign of the deployment configuration of Azure Application Insights.

#### December 2019
The December 4th release includes feature and bug fixes requested by PSD and CHIM. The PSD improvements support the software management process and supports the Fusion device remote support procedures. CHIM requested improvements related to platform security which are applicable to all IoT platform customers.

#### November 2019
The October 28th release contains bug fixes for device software management and device provisioning. A significant software management bug forced PSD to rollback the October 17th release in their development environment. This release addresses that bug and includes a device provisioning feature improvement to provide backward compatibility for EMD to provision devices with the device naming pattern of their choice.

#### October 2019
The October 17th release contains significant device software management feature improvements. Several bug fixes were implemented to address device software upgrade design limitations affecting PSD. Also included is a redesigned platform deployment architecture which 
addresses platform memory and processor utilization and stability issues.

#### September 2019
Bug 1484: Cannot update device twin desired properties from reference application. #EMD

#### August 2019
User Story 2251: Automated UI tests to validate an IoT platform deployment. Managing devices.
User Story 2252: Automated UI tests to validate an IoT platform deployment. Software management features.
User Story 2465: Automated UI tests to validate an IoT platform deployment. Managing device enrollments.
User Story 2851: Rotate the IoT platform deployment pipeline personal access token.

#### July 2019
Feature: A new API to retrieve product information by product name. This feature was requested for a CHIM application.
Feature: New device APIs to support non-IoT device management. This feature was requested for a CHIM application. #CHIM
Feature: New login page! A new login page!
Feature: Monitor for core platform failures and automatically restart the application.
Feature: New release pipeline to support customer self-service platform deployments.

#### June 2019
Feature: Allow non-unique device names.
Bug: A change to the device provisioning service naming convention in the release pipeline caused all existing devices to be unavailable after a platform upgrade.
Bug: Devices provisioned from new device enrollment have device ID with product ID suffix after it was supposedly removed.
Bug: Reference application permissions are not working as designed when a user has a custom role assigned.

#### May 2019
Bug: Package deployment adds duplicate product sample data.
Bug: Device software name and version are not set or retrieved properly.

### Support

